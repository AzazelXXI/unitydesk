{% extends "core/templates/base.html" %} {% block title %}Create New Project{%
endblock %} {% block extra_css %}
<link
  rel="stylesheet"
  href="{{ url_for('static', path='/views/project/static/css/projects.css') }}"
/>
<style>
  .project-form-container {
    max-width: 800px;
    margin: 0 auto;
    padding: 20px;
  }

  .form-section {
    background: white;
    border-radius: 10px;
    padding: 30px;
    margin-bottom: 20px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    border-left: 4px solid #007bff;
  }

  .form-section h4 {
    color: #495057;
    margin-bottom: 20px;
    font-weight: 600;
  }

  .form-control:focus {
    border-color: #007bff;
    box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
  }

  .btn-primary {
    background: linear-gradient(135deg, #007bff, #0056b3);
    border: none;
    padding: 12px 30px;
    font-weight: 600;
    border-radius: 8px;
    transition: all 0.3s ease;
  }

  .btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 15px rgba(0, 123, 255, 0.3);
  }

  .btn-secondary {
    border-radius: 8px;
    padding: 12px 30px;
    font-weight: 600;
  }

  .invalid-feedback {
    display: block;
  }

  .loading-spinner {
    display: none;
  }

  .success-message {
    display: none;
    background: #d4edda;
    border: 1px solid #c3e6cb;
    border-radius: 8px;
    padding: 15px;
    color: #155724;
    margin-bottom: 20px;
  }

  .error-message {
    display: none;
    background: #f8d7da;
    border: 1px solid #f5c6cb;
    border-radius: 8px;
    padding: 15px;
    color: #721c24;
    margin-bottom: 20px;
  }
</style>
{% endblock %} {% block content %}
<div class="project-form-container">
  <!-- Header -->
  <div class="text-center mb-4">
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb justify-content-center">
        <li class="breadcrumb-item"><a href="/projects">Projects</a></li>
        <li class="breadcrumb-item active">New Project</li>
      </ol>
    </nav>
    <h1 class="display-5 fw-bold text-primary mb-2">
      <i class="fas fa-plus-circle me-2"></i>Create New Project
    </h1>
    <p class="lead text-muted">
      Set up a new project with all the necessary details
    </p>
  </div>
  {% if error %}
  <div class="alert alert-danger">{{ error }}</div>
  {% endif %}
  <form id="newProjectForm" action="/projects/new" method="post" novalidate>
    <!-- Basic Information -->
    <div class="form-section">
      <h4>
        <i class="fas fa-info-circle text-primary me-2"></i>Basic Information
      </h4>
      <div class="row">
        <div class="col-md-6 mb-3">
          <label for="name" class="form-label fw-semibold"
            >Project Name *</label
          >
          <input
            type="text"
            class="form-control"
            id="name"
            name="name"
            required
          />
          <div class="invalid-feedback">Please provide a project name.</div>
        </div>
        <div class="col-md-6 mb-3">
          <label for="client_name" class="form-label fw-semibold"
            >Client Name</label
          >
          <input
            type="text"
            class="form-control"
            id="client_name"
            name="client_name"
          />
        </div>
      </div>
      <div class="mb-3">
        <label for="description" class="form-label fw-semibold"
          >Description *</label
        >
        <textarea
          class="form-control"
          id="description"
          name="description"
          rows="3"
          required
          placeholder="Describe the project goals, scope, and objectives..."
        ></textarea>
        <div class="invalid-feedback">
          Please provide a project description.
        </div>
      </div>
    </div>
    <!-- Project Details -->
    <div class="form-section">
      <h4><i class="fas fa-cogs text-primary me-2"></i>Project Details</h4>
      <div class="row">
        <div class="col-md-4 mb-3">
          <label for="status" class="form-label fw-semibold">Status</label>
          <select class="form-select" id="status" name="status">
            <option value="Planning">Planning</option>
            <option value="In Progress">In Progress</option>
            <option value="On Hold">On Hold</option>
            <option value="Completed">Completed</option>
            <option value="Cancelled">Cancelled</option>
          </select>
        </div>
        <div class="col-md-4 mb-3">
          <label for="priority" class="form-label fw-semibold">Priority</label>
          <select class="form-select" id="priority" name="priority">
            <option value="Medium">Medium</option>
            <option value="Low">Low</option>
            <option value="High">High</option>
            <option value="Critical">Critical</option>
          </select>
        </div>
        <div class="col-md-4 mb-3">
          <label for="budget" class="form-label fw-semibold">Budget ($)</label>
          <input
            type="number"
            class="form-control"
            id="budget"
            name="budget"
            min="0"
            step="0.01"
          />
        </div>
      </div>
    </div>
    <!-- Timeline -->
    <div class="form-section">
      <h4><i class="fas fa-calendar-alt text-primary me-2"></i>Timeline</h4>
      <div class="row">
        <div class="col-md-6 mb-3">
          <label for="start_date" class="form-label fw-semibold"
            >Start Date</label
          >
          <input
            type="date"
            class="form-control"
            id="start_date"
            name="start_date"
          />
        </div>
        <div class="col-md-6 mb-3">
          <label for="end_date" class="form-label fw-semibold">End Date</label>
          <input
            type="date"
            class="form-control"
            id="end_date"
            name="end_date"
          />
        </div>
      </div>
    </div>
    <!-- Additional Information -->
    <div class="form-section">
      <h4>
        <i class="fas fa-tags text-primary me-2"></i>Additional Information
      </h4>
      <div class="row">
        <div class="col-md-6 mb-3">
          <label for="department" class="form-label fw-semibold"
            >Department</label
          >
          <input
            type="text"
            class="form-control"
            id="department"
            name="department"
          />
        </div>
        <div class="col-md-6 mb-3">
          <label for="project_manager" class="form-label fw-semibold"
            >Project Manager</label
          >
          <input
            type="text"
            class="form-control"
            id="project_manager"
            name="project_manager"
          />
        </div>
      </div>
      <div class="mb-3">
        <label for="goals" class="form-label fw-semibold">Project Goals</label>
        <textarea
          class="form-control"
          id="goals"
          name="goals"
          rows="2"
          placeholder="List the main goals and deliverables..."
        ></textarea>
      </div>
    </div>
    <!-- Form Actions -->
    <div class="text-center">
      <button
        type="button"
        class="btn btn-secondary me-3"
        onclick="window.location.href='/projects'"
      >
        <i class="fas fa-times me-2"></i>Cancel
      </button>
      <button type="submit" class="btn btn-primary" id="submitBtn">
        <span id="submitText">
          <i class="fas fa-plus me-2"></i>Create Project
        </span>
      </button>
    </div>
  </form>
</div>
{% endblock %} {% block extra_js %}
<script>
  // Date validation
  const startDateInput = document.getElementById("start_date");
  const endDateInput = document.getElementById("end_date");
  if (startDateInput && endDateInput) {
    startDateInput.addEventListener("change", function () {
      endDateInput.min = this.value;
    });
    endDateInput.addEventListener("change", function () {
      if (startDateInput.value && this.value < startDateInput.value) {
        this.setCustomValidity("End date must be after start date");
      } else {
        this.setCustomValidity("");
      }
    });
  }
</script>
{% endblock %}
