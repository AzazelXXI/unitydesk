{% extends "base.html" %} {% block title %}Meetings | CSA Platform{% endblock %}
{% block head_extra %}
<link
  rel="stylesheet"
  type="text/css"
  href="{{ url_for('meeting_static', path='css/home.css') }}"
/>
<style>
  .meeting-hero {
    text-align: center;
    padding: 60px 0;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    margin: 0 0 40px 0;
    border-radius: 20px 20px 20px 20px;
  }

  .meeting-card {
    background: white;
    border-radius: 15px;
    padding: 30px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    margin-bottom: 30px;
    transition: transform 0.3s ease;
  }

  .meeting-card:hover {
    transform: translateY(-5px);
  }

  .feature-icon {
    font-size: 3rem;
    color: #667eea;
    margin-bottom: 20px;
  }

  .btn-create-room {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border: none;
    padding: 15px 30px;
    border-radius: 50px;
    font-size: 1.1rem;
    font-weight: 600;
    color: white;
    transition: transform 0.3s ease;
  }

  .btn-create-room:hover {
    transform: scale(1.05);
    color: white;
  }

  .recent-meetings {
    background: #f8f9fa;
    border-radius: 15px;
    padding: 25px;
  }
</style>
{% endblock %} {% block header %}
<i class="bi bi-camera-video me-2"></i>Meetings {% endblock %} {% block content
%}
<div class="main-content">
  <div class="meeting-hero">
    <div class="container">
      <h1 class="display-4 mb-4">
        <i class="bi bi-camera-video me-3"></i>
        Video Meetings for Everyone
      </h1>
      <p class="lead mb-4">
        Connect with your team anywhere, anytime with secure video conferencing
      </p>
      <button class="btn btn-create-room btn-lg" onclick="createRoom()">
        <i class="bi bi-plus-circle me-2"></i>
        Create Meeting Room
      </button>
    </div>
  </div>

  <div class="container-fluid">
    <div class="row">
      <!-- Quick Actions -->
      <div class="col-lg-8">
        <div class="row">
          <div class="col-md-4">
            <div class="meeting-card text-center">
              <div class="feature-icon">
                <i class="bi bi-plus-circle"></i>
              </div>
              <h5>Start Instant Meeting</h5>
              <p class="text-muted">Start a meeting right now with anyone</p>
              <button class="btn btn-outline-primary" onclick="createRoom()">
                Start Now
              </button>
            </div>
          </div>

          <div class="col-md-4">
            <div class="meeting-card text-center">
              <div class="feature-icon">
                <i class="bi bi-calendar-plus"></i>
              </div>
              <h5>Schedule Meeting</h5>
              <p class="text-muted">Plan meetings for later</p>
              <button
                class="btn btn-outline-primary"
                onclick="scheduleGemeeting()"
              >
                Schedule
              </button>
            </div>
          </div>

          <div class="col-md-4">
            <div class="meeting-card text-center">
              <div class="feature-icon">
                <i class="bi bi-box-arrow-in-right"></i>
              </div>
              <h5>Join Meeting</h5>
              <p class="text-muted">Join with meeting ID</p>
              <button
                class="btn btn-outline-primary"
                data-bs-toggle="modal"
                data-bs-target="#joinMeetingModal"
              >
                Join
              </button>
            </div>
          </div>
        </div>

        <!-- Recent Meetings -->
        <div class="recent-meetings">
          <h5 class="mb-4">
            <i class="bi bi-clock-history me-2"></i>
            Recent Meetings
          </h5>
          <div class="row">
            <div class="col-12">
              <div class="list-group">
                <div
                  class="list-group-item d-flex justify-content-between align-items-center"
                >
                  <div>
                    <h6 class="mb-1">Team Standup</h6>
                    <small class="text-muted"
                      >2 hours ago • 8 participants</small
                    >
                  </div>
                  <span class="badge bg-success">Completed</span>
                </div>
                <div
                  class="list-group-item d-flex justify-content-between align-items-center"
                >
                  <div>
                    <h6 class="mb-1">Project Review</h6>
                    <small class="text-muted">Yesterday • 5 participants</small>
                  </div>
                  <span class="badge bg-success">Completed</span>
                </div>
                <div
                  class="list-group-item d-flex justify-content-center align-items-center text-muted py-4"
                >
                  <i class="bi bi-calendar-x me-2"></i>
                  No more recent meetings
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Sidebar Info -->
      <div class="col-lg-4">
        <div class="meeting-card">
          <h5 class="mb-3">
            <i class="bi bi-info-circle me-2"></i>
            Meeting Features
          </h5>
          <ul class="list-unstyled">
            <li class="mb-2">
              <i class="bi bi-check-circle text-success me-2"></i>
              HD Video & Audio
            </li>
            <li class="mb-2">
              <i class="bi bi-check-circle text-success me-2"></i>
              Screen Sharing
            </li>
            <li class="mb-2">
              <i class="bi bi-check-circle text-success me-2"></i>
              Real-time Chat
            </li>
            <li class="mb-2">
              <i class="bi bi-check-circle text-success me-2"></i>
              Recording
            </li>
            <li class="mb-2">
              <i class="bi bi-check-circle text-success me-2"></i>
              Up to 100 Participants
            </li>
          </ul>
        </div>

        <div class="meeting-card">
          <h5 class="mb-3">
            <i class="bi bi-calendar-week me-2"></i>
            Upcoming Meetings
          </h5>
          <div class="text-center text-muted py-4">
            <i class="bi bi-calendar-x" style="font-size: 2rem"></i>
            <p class="mt-2 mb-0">No upcoming meetings</p>
            <small>Schedule a meeting to see it here</small>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Join Meeting Modal -->
  <div class="modal fade" id="joinMeetingModal" tabindex="-1">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">
            <i class="bi bi-box-arrow-in-right me-2"></i>
            Join Meeting
          </h5>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
          ></button>
        </div>
        <div class="modal-body">
          <div class="mb-3">
            <label for="meetingId" class="form-label"
              >Meeting ID or Room Name</label
            >
            <input
              type="text"
              class="form-control"
              id="meetingId"
              placeholder="Enter meeting ID or room name"
            />
          </div>
          <div class="mb-3">
            <label for="participantName" class="form-label">Your Name</label>
            <input
              type="text"
              class="form-control"
              id="participantName"
              placeholder="Enter your name"
            />
          </div>
        </div>
        <div class="modal-footer">
          <button
            type="button"
            class="btn btn-secondary"
            data-bs-dismiss="modal"
          >
            Cancel
          </button>
          <button type="button" class="btn btn-primary" onclick="joinMeeting()">
            <i class="bi bi-box-arrow-in-right me-1"></i>
            Join Meeting
          </button>
        </div>
      </div>
    </div>
  </div>

  <script src="{{ url_for('meeting_static', path='js/home.js') }}"></script>
  <script>
    function scheduleGemeeting() {
      // TODO: Implement schedule meeting functionality
      alert("Schedule meeting feature coming soon!");
    }

    function joinMeeting() {
      const meetingId = document.getElementById("meetingId").value.trim();
      const participantName = document
        .getElementById("participantName")
        .value.trim();

      if (!meetingId) {
        alert("Please enter a meeting ID or room name");
        return;
      }

      if (!participantName) {
        alert("Please enter your name");
        return;
      }

      // Redirect to meeting room
      window.location.href = `/meeting/room/${meetingId}?name=${encodeURIComponent(
        participantName
      )}`;
    }
  </script>
</div>
{% endblock %}
